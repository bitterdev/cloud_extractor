*Get Files*
----
  Send a [request](../../definitions/requests/default-request.md) to retrieve a file list of the given directory from iCloud Drive.

* **Endpoint**
  
  [Drive-Endpoint](../../definitions/icloud/endpoints/drive.md)
  
* **Method:**

  `POST`
  
* **Path**

  `/retrieveItemDetailsInFolders`
  
* **Query Parameters**
 
   `clientBuildNumber=1923Hotfix2`
   
   `clientMasteringNumber=1923Hotfix2`
   
   `clientId=[HMAC]`
   
   `dsid=[dsid]`
   
   You need to pass the dynamic parameters [[HMAC]](../../definitions/general/types/hmac.md) and [[dsid]](../../definitions/icloud/variables/session-id.md).

* **Payload**

  ```json
  [
     {
        "drivewsid":"[drivewsid]",
        "partialData":false
     }
  ]
  ```
   
   You need to pass the dynamic parameter [[drivewsid]](../../definitions/icloud/types/drivewsid.md).

* **Success Response:**

  * **Response Code:**
  
    `200`
    
    **Content:** 
    
    ```json
    [
       {
          "drivewsid":"FOLDER::com.apple.CloudDocs::root",
          "docwsid":"root",
          "zone":"com.apple.CloudDocs",
          "name":"",
          "etag":"6",
          "type":"FOLDER",
          "assetQuota":0,
          "fileCount":0,
          "shareCount":0,
          "shareAliasCount":0,
          "directChildrenCount":1,
          "items":[
             {
                "drivewsid":"FOLDER::com.apple.CloudDocs::CDDA5447-1981-4C0C-877F-9353A9FC145F",
                "docwsid":"CDDA5447-1981-4C0C-877F-9353A9FC145F",
                "zone":"com.apple.CloudDocs",
                "name":"Neuer Ordner",
                "parentId":"FOLDER::com.apple.CloudDocs::root",
                "etag":"5",
                "type":"FOLDER",
                "assetQuota":0,
                "fileCount":0,
                "shareCount":0,
                "shareAliasCount":0,
                "directChildrenCount":0
             },
             {
                "dateCreated":"2020-01-16T06:52:13-08:00",
                "drivewsid":"FOLDER::iCloud.is.workflow.my.workflows::documents",
                "docwsid":"documents",
                "zone":"iCloud.is.workflow.my.workflows",
                "name":"Shortcuts",
                "parentId":"FOLDER::com.apple.CloudDocs::root",
                "etag":"9",
                "type":"APP_LIBRARY",
                "maxDepth":"ANY",
                "icons":[
                   {
                      "url":"https://p71-drivews.icloud.com/getIcons?id\u003diCloud.is.workflow.my.workflows\u0026field\u003dicon120x120_iOS",
                      "type":"IOS",
                      "size":120
                   },
                   {
                      "url":"https://p71-drivews.icloud.com/getIcons?id\u003diCloud.is.workflow.my.workflows\u0026field\u003dicon80x80_iOS",
                      "type":"IOS",
                      "size":80
                   },
                   {
                      "url":"https://p71-drivews.icloud.com/getIcons?id\u003diCloud.is.workflow.my.workflows\u0026field\u003dicon40x40_iOS",
                      "type":"IOS",
                      "size":40
                   }
                ],
                "supportedExtensions":[
                   "sd2",
                   "xlt",
                   "ksh",
                   "xlw",
                   "m75",
                   "der",
                   "scptd",
                   "raf",
                   "xml",
                   "saver",
                   "shtml",
                   "pict",
                   "kth",
                   "3g2",
                   "ram",
                   "itms",
                   "aa",
                   "ai",
                   "raw",
                   "diff",
                   "panic",
                   "sda",
                   "sdd",
                   "as",
                   "sdc",
                   "au",
                   "ypp",
                   "sdp",
                   "sf2",
                   "3fr",
                   "xltx",
                   "aac",
                   "hang",
                   "sdv",
                   "rbw",
                   "aaf",
                   "sdw",
                   "wma",
                   "cel",
                   "pptm",
                   "wdgt",
                   "sea",
                   "zsh",
                   "tga",
                   "savedsearch",
                   "ac3",
                   "ppsx",
                   "cer",
                   "xltm",
                   "epub",
                   "bz",
                   "jpeg",
                   "aax",
                   "j2c",
                   "wmp",
                   "flc",
                   "3gp",
                   "dotx",
                   "cc",
                   "xlsx",
                   "wmv",
                   "scpt",
                   "minc",
                   "j2k",
                   "fli",
                   "wmx",
                   "abc",
                   "c",
                   "tgz",
                   "f",
                   "h",
                   "dylib",
                   "i",
                   "hpp",
                   "xpc",
                   "dotm",
                   "l",
                   "cp",
                   "m",
                   "lxx",
                   "icns",
                   "ppsm",
                   "o",
                   "flv",
                   "r",
                   "s",
                   "xlsm",
                   "spin",
                   "y",
                   "z",
                   "xlsb",
                   "dif",
                   "potm",
                   "hqx",
                   "jscript",
                   "tif",
                   "dv",
                   "sgi",
                   "wflow",
                   "adb",
                   "ada",
                   "pas",
                   "pax",
                   "pptx",
                   "cdda",
                   "ads",
                   "ulw",
                   "pntg",
                   "smil",
                   "for",
                   "pch",
                   "applescript",
                   "json",
                   "class",
                   "sit",
                   "pct",
                   "htm",
                   "dll",
                   "iconset",
                   "mobile",
                   "dls",
                   "fpx",
                   "pdf",
                   "gz",
                   "key-tef",
                   "potx",
                   "hh",
                   "c++",
                   "bin",
                   "hp",
                   "pef",
                   "pem",
                   "text",
                   "dng",
                   "ii",
                   "defs",
                   "afploc",
                   "pluginkit",
                   "eps",
                   "pfa",
                   "odb",
                   "pfb",
                   "odc",
                   "odf",
                   "tcsh",
                   "odg",
                   "lpdf",
                   "odi",
                   "yxx",
                   "odm",
                   "doc",
                   "odp",
                   "ph3",
                   "ulaw",
                   "ph4",
                   "odt",
                   "ods",
                   "aif",
                   "template",
                   "pfx",
                   "dot",
                   "js",
                   "smf",
                   "fileloc",
                   "smi",
                   "xhtm",
                   "sml",
                   "erf",
                   "bundle",
                   "shutdownstall",
                   "sidx",
                   "snd",
                   "hxx",
                   "gzip",
                   "dlyan",
                   "mobileconfig",
                   "menu",
                   "url",
                   "framework",
                   "wvx",
                   "php",
                   "mdimporter",
                   "lm",
                   "bmp",
                   "newsloc",
                   "php4",
                   "dist",
                   "pic",
                   "nef",
                   "mpga",
                   "php3",
                   "f4a",
                   "pages",
                   "etd",
                   "f4b",
                   "md",
                   "mi",
                   "mm",
                   "cr2",
                   "cpp",
                   "f4p",
                   "mpg4",
                   "f4v",
                   "sr2",
                   "mpeg",
                   "pkpass",
                   "tiff",
                   "avchd",
                   "inetloc",
                   "amr",
                   "f77",
                   "gpurestart",
                   "pkg",
                   "adts",
                   "tbz2",
                   "tsv",
                   "kar",
                   "ttc",
                   "crt",
                   "srf",
                   "ttf",
                   "crw",
                   "gtar",
                   "pf",
                   "pls",
                   "srw",
                   "jnlp",
                   "csh",
                   "pl",
                   "f90",
                   "pm",
                   "ps",
                   "f95",
                   "textclipping",
                   "mobileprovision",
                   "csv",
                   "py",
                   "mpkg",
                   "cpgz",
                   "nii",
                   "crash",
                   "patch",
                   "qlgenerator",
                   "rmvb",
                   "exe",
                   "java",
                   "docm",
                   "jar",
                   "band",
                   "exp",
                   "exr",
                   "jav",
                   "app",
                   "std",
                   "qt",
                   "stc",
                   "distz",
                   "png",
                   "sti",
                   "vcard",
                   "javascript",
                   "ra",
                   "rb",
                   "stw",
                   "rm",
                   "ftploc",
                   "phtml",
                   "omf",
                   "mid",
                   "mig",
                   "mii",
                   "webarchive",
                   "rss",
                   "pot",
                   "sh",
                   "key",
                   "svg",
                   "rtf",
                   "arw",
                   "docx",
                   "txt",
                   "pps",
                   "inss",
                   "plugin",
                   "asf",
                   "ppt",
                   "m3u8",
                   "cpio",
                   "ts",
                   "lid",
                   "asx",
                   "numbers",
                   "icc",
                   "rw2",
                   "p12",
                   "icm",
                   "ico",
                   "ul",
                   "webplugin",
                   "ics",
                   "sxd",
                   "sxc",
                   "svgz",
                   "uu",
                   "cxx",
                   "sxg",
                   "sxi",
                   "qti",
                   "xar",
                   "sxm",
                   "pch++",
                   "bwf",
                   "sxw",
                   "qtif",
                   "rtfd",
                   "qtz",
                   "jfx",
                   "fpbf",
                   "psd",
                   "xbm",
                   "aiff",
                   "rwl",
                   "aifc",
                   "wave",
                   "avi",
                   "wm",
                   "bz2",
                   "orf",
                   "mnc",
                   "numbers-tef",
                   "war",
                   "wav",
                   "mp2",
                   "wax",
                   "xhtml",
                   "mp4",
                   "mp3",
                   "bash",
                   "provisionprofile",
                   "dfont",
                   "nmbtemplate",
                   "aupreset",
                   "lmm",
                   "prefpane",
                   "mos",
                   "midi",
                   "ym",
                   "mov",
                   "otc",
                   "appex",
                   "zip",
                   "otf",
                   "oth",
                   "otg",
                   "mpe",
                   "slidesaver",
                   "pages-tef",
                   "oti",
                   "mpg",
                   "otp",
                   "mpo",
                   "ott",
                   "ots",
                   "nrw",
                   "xfd",
                   "suit",
                   "imovielibrary",
                   "pictclipping",
                   "pwl",
                   "3gp2",
                   "m15",
                   "plist",
                   "configprofile",
                   "vcf",
                   "vcs",
                   "fdf",
                   "lpp",
                   "sitx",
                   "mrw",
                   "xht",
                   "dae",
                   "3gpp",
                   "gbproj",
                   "theater",
                   "html",
                   "xip",
                   "webloc",
                   "tar",
                   "fff",
                   "jp2",
                   "edn",
                   "mailloc",
                   "vcal",
                   "m2v",
                   "shtm",
                   "icloud",
                   "gif",
                   "vfw",
                   "xfdf",
                   "caf",
                   "h++",
                   "tbz",
                   "m3u",
                   "dcm",
                   "dcr",
                   "shortcut",
                   "ymm",
                   "m4b",
                   "m4a",
                   "jpe",
                   "jpg",
                   "jpf",
                   "inl",
                   "m4p",
                   "m4r",
                   "xla",
                   "m4v",
                   "jpx",
                   "efx",
                   "xls"
                ],
                "supportedTypes":[
                   "public.item",
                   "com.apple.shortcut",
                   "is.workflow.my.workflow",
                   "public.data",
                   "public.content"
                ]
             }
          ],
          "numberOfItems":2
       }
    ]
    ```
    
    Now you need to parse the results.
 
    | Value              | Data Type |
    |--------------------|-----------|
    | `response[0].items[n].drivewsid` | [drivewsid](../../definitions/icloud/types/drivewsid.md)    |
    | `response[0].items[n].docwsid`   | String    |
    | `response[0].items[n].type`      | `FILE`, `FOLDER`    |
    | `response[0].items[n].name`      | String    |

* **ErrorResolver Response:**

  * **Response Code:**
  
    `(All other response codes then 200)`
    
    **Content:** 
    
    `Empty`
    
    Something went wrong.